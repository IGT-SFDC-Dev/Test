<?xml version="1.0" encoding="UTF-8"?>
<Report xmlns="http://soap.sforce.com/2006/04/metadata">
    <aggregates>
        <calculatedFormula>SRM_RequestDetail__c.TotalPrice__c:SUM</calculatedFormula>
        <datatype>currency</datatype>
        <developerName>FORMULA1</developerName>
        <downGroupingContext>GRAND_SUMMARY</downGroupingContext>
        <isActive>true</isActive>
        <isCrossBlock>false</isCrossBlock>
        <masterLabel>Total Price</masterLabel>
        <scale>2</scale>
    </aggregates>
    <aggregates>
        <calculatedFormula>SRM_RequestDetail__c.Total_Cost__c:SUM</calculatedFormula>
        <datatype>currency</datatype>
        <developerName>FORMULA2</developerName>
        <downGroupingContext>GRAND_SUMMARY</downGroupingContext>
        <isActive>true</isActive>
        <isCrossBlock>false</isCrossBlock>
        <masterLabel>Total Cost</masterLabel>
        <scale>2</scale>
    </aggregates>
    <columns>
        <field>Incident__c$Name</field>
    </columns>
    <columns>
        <field>Incident__c$FKRequestDefinition__c</field>
    </columns>
    <columns>
        <field>Incident__c$Status_ID__c</field>
    </columns>
    <columns>
        <field>Incident__c.Request_Detail__r$Quantity__c</field>
    </columns>
    <columns>
        <field>Incident__c.Request_Detail__r$DeliveryCost__c</field>
    </columns>
    <columns>
        <field>Incident__c.Request_Detail__r$Total_Cost__c</field>
    </columns>
    <columns>
        <field>Incident__c.Request_Detail__r$CustomerPrice__c</field>
    </columns>
    <columns>
        <field>Incident__c.Request_Detail__r$TotalPrice__c</field>
    </columns>
    <currency>USD</currency>
    <description>Lists all closed service requests, their service request definitions, requested quantity, cost, and price. It also calculates and displays the total delivery cost and total customer price for each service request depending on the requested quantity.</description>
    <filter>
        <criteriaItems>
            <column>Incident__c$state__c</column>
            <operator>equals</operator>
            <value>0</value>
        </criteriaItems>
    </filter>
    <format>Summary</format>
    <groupingsDown>
        <dateGranularity>Day</dateGranularity>
        <field>Incident__c$state__c</field>
        <sortOrder>Asc</sortOrder>
    </groupingsDown>
    <name>Service Request Cost Reporting</name>
    <params>
        <name>co</name>
        <value>1</value>
    </params>
    <reportType>ServiceRequestDetails__c</reportType>
    <scope>user</scope>
    <showDetails>true</showDetails>
    <timeFrameFilter>
        <dateColumn>Incident__c$CreatedDate</dateColumn>
        <interval>INTERVAL_CUSTOM</interval>
    </timeFrameFilter>
</Report>
